<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>234</h1>
  <script type="module">
    import { reactive, effect, ref, toRefs, computed } from './reactivity/index.js'

    // 1
    // const product = reactive({
    //   name: 'iPhone',
    //   price: 5000,
    //   count: 3
    // })
    // let total = 0
    // effect(() => {
    //   total = product.price * product.count
    // })
    // console.log(total)

    // product.price = 4000
    // console.log(total)

    // product.count = 1
    // console.log(total)

    // 2
    // const price = ref(5000)
    // const count = ref(3)
    // let total = 0
    // effect(() => {
    //   total = price.value * count.value
    // })
    // console.log(total)

    // price.value = 4000
    // console.log(total)

    // count.value = 1
    // console.log(total)

    // 3
    // function useProduct() {
    //   const product = reactive({
    //     name: 'iPhone',
    //     price: 5000,
    //     count: 3
    //   })

    //   return toRefs(product)
    // }

    // const { price, count } = useProduct()

    // let total = 0
    // effect(() => {
    //   total = price.value * count.value
    // })
    // console.log(total)

    // price.value = 4000
    // console.log(total)

    // count.value = 1
    // console.log(total)

    // 4
    const product = reactive({
      name: 'iPhone',
      price: 5000,
      count: 3
    })
    let total = computed(() => {
      return product.price * product.count
    })
    console.log(total.value)

    product.price = 4000
    console.log(total.value)

    product.count = 1
    console.log(total.value)

  </script>
</body>
</html>